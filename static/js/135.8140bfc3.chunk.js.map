{"version":3,"file":"static/js/135.8140bfc3.chunk.js","mappings":"8PACA,EAA6B,iCAA7B,EAAsE,4BAAtE,EAA2G,6BAA3G,EAAgJ,4BAAhJ,EAAyL,iCAAzL,EAA2O,qCAA3O,EAAuR,2B,SC2EvR,EAtEqB,WAAO,IAAD,IACnBA,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAC3D,GAA8BC,EAAAA,EAAAA,UAAS,CAAC,GAAxC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,SAArC,eAAOG,EAAP,KAAeC,EAAf,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,6GAEKC,EAAAA,EAAAA,QAAYJ,GAFjB,OAEXJ,EAFW,OAGjBC,EAAWD,GACXG,EAAU,UAJO,gDAMjBM,QAAQC,IAAR,MANiB,yDAAH,qDASlBH,GACD,GAAE,CAACH,IAEJ,IAAQO,EAAuDX,EAAvDW,YAAaC,EAA0CZ,EAA1CY,MAAOC,EAAmCb,EAAnCa,aAAcC,EAAqBd,EAArBc,SAAUC,EAAWf,EAAXe,OAC9CC,EAAQC,KAAKC,MAAqB,GAAfL,GACnBM,EAAG,0CAAsCR,GAE/C,MACa,WAAXT,IACE,6BACE,iBAAKkB,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMC,GAAI3B,EAAoB4B,QAA9B,sBACA,0BACE,gBAAKC,IAAKL,EAAKM,MAAM,MAAMC,IAAI,WAGnC,4BACE,wBAAKd,KACL,wCAAgBI,EAAhB,QACA,sCACA,uBAAIF,KACJ,oCACA,eAAIM,UAAWC,EAAf,SACGN,EAAOY,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAP,OACV,eAAaT,UAAWC,EAAxB,SACGQ,GADMD,EADC,aAQlB,cAAGR,UAAWC,EAAd,qCACA,gBAAID,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CAAMC,GAAG,OAAOF,UAAWC,EAA3B,qBAIF,yBACE,SAAC,KAAD,CAAMC,GAAG,UAAUF,UAAWC,EAA9B,2BAKJ,SAAC,EAAAS,SAAD,CAAUC,UAAU,0CAApB,UACE,SAAC,KAAD,QAKT,C,8OCxEKC,GAAAA,EAAAA,EAAAA,IAAAA,SAAAA,IAAAA,IAAAA,EAAAA,MAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,OAAAA,eAAAA,KAAAA,EAAAA,CAAAA,UAAAA,EAAAA,MACG,kFACI,qFACF,uEACE,2DACA,6DACA,6DACD,sBAEVC,OAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAQ,oGACiBC,EAAAA,EAAAA,IAAA,kBAClB,EADkB,sBACN,EADM,kCACiB,EADjB,QADjB,cACAC,EADA,yBAICA,EAASC,KAAKC,SAJf,gDAORrC,QAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAU,WAAMI,GAAN,uFACe8B,EAAAA,EAAAA,IAAA,kBAClB,EADkB,sBACN,EADM,cACU9B,EADV,4BAC6B,EAD7B,QADf,cACF+B,EADE,yBAIDA,EAASC,MAJR,8FAAVpC,GAAU,KAOVsC,QAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAU,WAAMlC,GAAN,uFACe8B,EAAAA,EAAAA,IAAA,kBAClB,EADkB,sBACN,EADM,cACU9B,GADV,eACoB,EADpB,kCAEnB,EAFmB,QADf,cACF+B,EADE,yBAMDA,EAASC,KAAKG,MANb,8FAAVD,GAAU,KASVE,QAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAU,WAAMpC,GAAN,uFACe8B,EAAAA,EAAAA,IAAA,kBAClB,EADkB,sBACN,EADM,cACU9B,GADV,eACoB,EADpB,kCAEnB,EAFmB,QADf,cACF+B,EADE,yBAODA,EAASC,KAAKC,SAPb,8FAAVG,GAAU,KAUVC,OAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAS,WAAMC,GAAN,uFACgBR,EAAAA,EAAAA,IAAA,kBAClB,EADkB,sBACN,EADM,kCACkB,EADlB,wBACyCQ,IAFzD,cACDP,EADC,yBAKAA,EAASC,KAAKC,SALd,8FAATI,EAAS,IASLjC,EAAM,IAAIwB,EAChB,K","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/moviesAPI.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"imgWrapper\":\"MovieDetails_imgWrapper__1TLwc\",\"movie\":\"MovieDetails_movie__9X7I7\",\"genres\":\"MovieDetails_genres__Pnmgt\",\"genre\":\"MovieDetails_genre__+tTbx\",\"additional\":\"MovieDetails_additional__+f3rh\",\"additionalList\":\"MovieDetails_additionalList__0IfAN\",\"link\":\"MovieDetails_link__U+v+7\"};","import { useEffect, useState, Suspense } from 'react';\nimport API from 'services/moviesAPI';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { useRef } from 'react';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n  const [details, setDetails] = useState({});\n  const [status, setStatus] = useState('fetch');\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetchDetails = async () => {\n      try {\n        const details = await API.details(movieId);\n        setDetails(details);\n        setStatus('finish');\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchDetails();\n  }, [movieId]);\n\n  const { poster_path, title, vote_average, overview, genres } = details;\n  const score = Math.trunc(vote_average * 10);\n  const img = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n\n  return (\n    status === 'finish' && (\n      <main>\n        <div className={css.movie}>\n          <div className={css.imgWrapper}>\n            <Link to={backLinkLocationRef.current}>Go back</Link>\n            <div>\n              <img src={img} width=\"160\" alt=\"\" />\n            </div>\n          </div>\n          <div>\n            <h1>{title}</h1>\n            <p>User Score: {score}%</p>\n            <h2>Overview</h2>\n            <p>{overview}</p>\n            <h2>Genres</h2>\n            <ul className={css.genres}>\n              {genres.map(({ id, name }) => (\n                <li key={id} className={css.genre}>\n                  {name}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <p className={css.additional}>Additional information</p>\n        <ul className={css.additionalList}>\n          <li>\n            <Link to=\"cast\" className={css.link}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" className={css.link}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n        <Suspense fallback={<div>Loading.....</div>}>\n          <Outlet />\n        </Suspense>\n      </main>\n    )\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nclass fetchApi {\n  #URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = 'd9b22b66e437cf83ab7d8ce61de5c8ef';\n  #TRAND = 'trending/movie/day';\n  #DETAILS = 'movie/';\n  #CREDITS = '/credits';\n  #REVIEWS = '/reviews';\n  #SEARCH = 'search/movie';\n\n  trand = async () => {\n    const response = await axios.get(\n      `${this.#URL}${this.#TRAND}?api_key=${this.#API_KEY}`\n    );\n    return response.data.results;\n  };\n\n  details = async movieId => {\n    const response = await axios.get(\n      `${this.#URL}${this.#DETAILS}${movieId}?api_key=${this.#API_KEY}`\n    );\n    return response.data;\n  };\n\n  credits = async movieId => {\n    const response = await axios.get(\n      `${this.#URL}${this.#DETAILS}${movieId}${this.#CREDITS}?api_key=${\n        this.#API_KEY\n      }`\n    );\n    return response.data.cast;\n  };\n\n  reviews = async movieId => {\n    const response = await axios.get(\n      `${this.#URL}${this.#DETAILS}${movieId}${this.#REVIEWS}?api_key=${\n        this.#API_KEY\n      }`\n    );\n\n    return response.data.results;\n  };\n\n  search = async movieName => {\n    const response = await axios.get(\n      `${this.#URL}${this.#SEARCH}?api_key=${this.#API_KEY}&query=${movieName}`\n    );\n    \n    return response.data.results\n  };\n}\n\nconst API = new fetchApi();\nexport default API;\n"],"names":["location","useLocation","backLinkLocationRef","useRef","state","from","useState","details","setDetails","status","setStatus","movieId","useParams","useEffect","fetchDetails","API","console","log","poster_path","title","vote_average","overview","genres","score","Math","trunc","img","className","css","to","current","src","width","alt","map","id","name","Suspense","fallback","fetchApi","trand","axios","response","data","results","credits","cast","reviews","search","movieName"],"sourceRoot":""}